# 档案管理系统接口文档-V2.0











## 1. 员工管理

### 1.1 员工列表查询

#### 1.1.1 基本信息

> 请求路径：/admin/users
>
> 请求方式：GET
>
> 接口描述：该接口用于用户列表数据的条件分页查询



#### 1.1.2 请求参数

参数格式：queryString

参数说明：

| 参数名称 | 是否必须 | 示例 | 备注                                       |
| -------- | -------- | ---- | ------------------------------------------ |
| name     | 否       | 库   | 姓名                                       |
| gender   | 否       | 1    | 性别 , 1 男 , 2 女                         |
| page     | 是       | 1    | 分页查询的页码，如果未指定，默认为1        |
| pageSize | 是       | 10   | 分页查询的每页记录数，如果未指定，默认为10 |

请求数据样例：

```shell
/users?name=库&gender=1&page=1&pageSize=10
```



#### 1.1.3 响应数据

参数格式：application/json

参数说明：

| 名称           | 类型      | 是否必须 | 默认值 | 备注                                     | 其他信息          |
| -------------- | --------- | -------- | ------ | ---------------------------------------- | ----------------- |
| code           | number    | 必须     |        | 响应码, 1 成功 , 0 失败                  |                   |
| msg            | string    | 非必须   |        | 提示信息                                 |                   |
| data           | object    | 必须     |        | 返回的数据                               |                   |
| \|- total      | number    | 必须     |        | 总记录数                                 |                   |
| \|- rows       | object [] | 必须     |        | 数据列表                                 | item 类型: object |
| \|- id         | number    | 非必须   |        | id                                       |                   |
| \|- username   | string    | 非必须   |        | 用户名                                   |                   |
| \|- name       | string    | 非必须   |        | 姓名                                     |                   |
| \|- password   | string    | 非必须   |        | 密码                                     |                   |
| \|- role       | number    | 非必须   |        | 身份, 说明: 1 浏览者,2 上传者, 3 管理员, |                   |
| \|- gender     | number    | 非必须   |        | 性别 , 1 男 ; 2 女                       |                   |
| \|- createTime | string    | 非必须   |        | 创建时间                                 |                   |
| \|- updateTime | string    | 非必须   |        | 更新时间                                 |                   |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 1,
    "rows": [
       {
        "id": 1,
        "username": "curry",
        "password": "123456",
        "name": "库里",
        "gender": 1,
        "role": 2,
        "createTime": "2025-10-01T23:06:30",
        "updateTime": "2025-10-02T00:29:04"
      }
    ]
  }
}
```







### 1.2 删除用户

#### 1.2.1 基本信息

> 请求路径：/admin/users/{ids}
>
> 请求方式：DELETE
>
> 接口描述：该接口用于批量删除用户的数据信息



#### 1.2.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型       | 示例  | 是否必须 | 备注         |
| ------ | ---------- | ----- | -------- | ------------ |
| ids    | 数组 array | 1,2,3 | 必须     | 用户的id数组 |

请求参数样例：

```
/users/1,2,3
```



#### 1.2.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型   | 是否必须 | 备注                           |
| ------ | ------ | -------- | ------------------------------ |
| code   | number | 必须     | 响应码，1 代表成功，0 代表失败 |
| msg    | string | 非必须   | 提示信息                       |
| data   | object | 非必须   | 返回的数据                     |

响应数据样例：

```json
{
    "code":1,
    "msg":"success",
    "data":null
}
```







### 1.3 添加用户

#### 1.3.1 基本信息

> 请求路径：/admin/users
>
> 请求方式：POST
>
> 接口描述：该接口用于添加用户的信息



#### 1.3.2 请求参数

参数格式：application/json

参数说明：

| 名称     | 类型   | 是否必须 | 备注                                    |
| -------- | ------ | -------- | --------------------------------------- |
| username | string | 必须     | 用户名                                  |
| name     | string | 必须     | 姓名                                    |
| gender   | number | 必须     | 性别, 说明: 1 男, 2 女                  |
| role     | number | 非必须   | 角色, 说明: 1 浏览者,2 上传者, 3 管理员 |
| password | string | 非必须   | 密码                                    |

请求数据样例：

```json
{
  "username": "kobe",
  "name": "科比",
  "gender": 1,
  "role": 1,
  "password": "123456"
}
```





#### 1.3.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型   | 是否必须 | 备注                           |
| ------ | ------ | -------- | ------------------------------ |
| code   | number | 必须     | 响应码，1 代表成功，0 代表失败 |
| msg    | string | 非必须   | 提示信息                       |
| data   | object | 非必须   | 返回的数据                     |

响应数据样例：

```json
{
    "code":1,
    "msg":"success",
    "data":null
}
```





### 1.4 根据ID查询

#### 1.4.1 基本信息

> 请求路径：/admin/users/{id}
>
> 请求方式：GET
>
> 接口描述：该接口用于根据主键ID查询用户的信息



#### 1.4.2 请求参数

参数格式：路径参数

参数说明：

| 参数名 | 类型   | 是否必须 | 备注   |
| ------ | ------ | -------- | ------ |
| id     | number | 必须     | 用户ID |

请求参数样例：

```
/users/1
```



#### 1.4.3 响应数据

参数格式：application/json

参数说明：

| 名称           | 类型   | 是否必须 | 默认值 | 备注                                    | 其他信息 |
| -------------- | ------ | -------- | ------ | --------------------------------------- | -------- |
| code           | number | 必须     |        | 响应码, 1 成功 , 0 失败                 |          |
| msg            | string | 非必须   |        | 提示信息                                |          |
| data           | object | 必须     |        | 返回的数据                              |          |
| \|- id         | number | 非必须   |        | id                                      |          |
| \|- username   | string | 非必须   |        | 用户名                                  |          |
| \|- name       | string | 非必须   |        | 姓名                                    |          |
| \|- password   | string | 非必须   |        | 密码                                    |          |
| \|- role       | number | 非必须   |        | 角色, 说明: 1 浏览者,2 上传者, 3 管理员 |          |
| \|- gender     | number | 非必须   |        | 性别 , 1 男 ; 2 女                      |          |
| \|- createTime | string | 非必须   |        | 创建时间                                |          |
| \|- updateTime | string | 非必须   |        | 更新时间                                |          |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "id": 2,
    "username": "james",
    "password": "123456",
    "name": "詹姆斯",
    "gender": 1,
    "role": 2,
    "createTime": "2025-10-01T23:06:30",
    "updateTime": "2025-10-02T00:29:04"
  }
}
```





### 1.5 修改用户

#### 1.5.1 基本信息

> 请求路径：/admin/users
>
> 请求方式：PUT
>
> 接口描述：该接口用于修改用户的数据信息



#### 1.5.2 请求参数

参数格式：application/json

参数说明：

| 名称     | 类型   | 是否必须 | 备注                                    |
| -------- | ------ | -------- | --------------------------------------- |
| id       | number | 必须     | id                                      |
| username | string | 必须     | 用户名                                  |
| name     | string | 必须     | 姓名                                    |
| gender   | number | 必须     | 性别, 说明: 1 男, 2 女                  |
| role     | number | 非必须   | 角色, 说明: 1 浏览者,2 上传者, 3 管理员 |

请求数据样例：

```json
{
  "id": 1,
  "username": "curry",
  "name": "库里",
  "gender": 1,
  "role": 1
}
```



#### 1.5.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型   | 是否必须 | 备注                           |
| ------ | ------ | -------- | ------------------------------ |
| code   | number | 必须     | 响应码，1 代表成功，0 代表失败 |
| msg    | string | 非必须   | 提示信息                       |
| data   | object | 非必须   | 返回的数据                     |

响应数据样例：

```json
{
    "code":1,
    "msg":"success",
    "data":null
}
```





## 2.文件管理

### 2.1 文件上传

#### 2.1.1 基本信息

> 请求路径：/file/upload
>
> 请求方式：POST
>
> 接口描述：上传档案文件



#### 2.1.2 请求参数

参数格式：multipart/form-data

参数说明：

| 参数名称 | 参数类型 | 是否必须 | 示例 | 备注 |
| -------- | -------- | -------- | ---- | ---- |
| file     | file     | 是       |      |      |



#### 2.1.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型   | 是否必须 | 备注                           |
| ------ | ------ | -------- | ------------------------------ |
| code   | number | 必须     | 响应码，1 代表成功，0 代表失败 |
| msg    | string | 非必须   | 提示信息                       |
| data   | object | 非必须   | 返回的数据，文件的访问路径     |

响应数据样例：

```json
{
    "code": 1,
    "msg": "success",
    "data": "https://web-filesystem.oss-cn-hangzhou.aliyuncs.com/52555b4a-39de-4972-abcb-13d9fc133880.png"
}
```





### 2.2 文件下载

#### 2.2.1 基本信息

> 请求路径：/file/download/{id}
>
> 请求方式：GET
>
> 接口描述：下载档案文件



#### 2.2.2 请求参数

参数格式：query

参数说明：

| 参数名称 | 参数类型 | 是否必须 | 示例 | 备注   |
| -------- | -------- | -------- | ---- | ------ |
| id       | number   | 是       | 1    | 文件id |



#### 2.2.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型   | 是否必须 | 备注                           |
| ------ | ------ | -------- | ------------------------------ |
| code   | number | 必须     | 响应码，1 代表成功，0 代表失败 |
| msg    | string | 非必须   | 提示信息                       |
| data   | object | 非必须   | 返回的数据，下载文件的访问路径 |

响应数据样例：

```json
{
    "code": 1,
    "msg": "success",
    "data": "D:\java\oop\upload\Animal.java"
}
```







### 2.3 文件列表查询

#### 2.3.1 基本信息

> 请求路径：/file/list
>
> 请求方式：GET
>
> 接口描述：查询档案文件



#### 2.3.2 请求参数

参数格式：queryString

参数说明：

| 参数名称 | 是否必须 | 示例 | 备注                                       |
| -------- | -------- | ---- | ------------------------------------------ |
| page     | 是       | 1    | 分页查询的页码，如果未指定，默认为1        |
| pageSize | 是       | 10   | 分页查询的每页记录数，如果未指定，默认为10 |

请求数据样例：

```shell
/file?page=1&pageSize=10
```



#### 2.2.3 响应数据

参数格式：application/json

参数说明：

| 名称             | 类型      | 是否必须 | 默认值 | 备注                    | 其他信息          |
| ---------------- | --------- | -------- | ------ | ----------------------- | ----------------- |
| code             | number    | 必须     |        | 响应码, 1 成功 , 0 失败 |                   |
| msg              | string    | 非必须   |        | 提示信息                |                   |
| data             | object    | 必须     |        | 返回的数据              |                   |
| \|- total        | number    | 必须     |        | 总记录数                |                   |
| \|- rows         | object [] | 必须     |        | 数据列表                | item 类型: object |
| \|- id           | number    | 非必须   |        | id                      |                   |
| \|- filename     | string    | 非必须   |        | 文件名                  |                   |
| \|- operatorName | string    | 非必须   |        | 上传者姓名              |                   |
| \|- operatorId   | number    | 非必须   |        | 上传者id                |                   |
| \|- uploadTime   | datetime  | 非必须   |        | 上传时间                |                   |
| \|- url          | string    | 非必须   |        | 文件的访问路径          |                   |
| \|- uuid         | string    | 非必须   |        | 文件的UUID              |                   |

响应数据样例：

```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "total": 2,
        "rows": [
            {
                "id": 2,
                "filename": "屏幕截图 2025-10-31 182403.png",
                "operatorName": "库里",
                "operatorId": 1,
                "uploadTime": "2025-10-31T20:28:20",
                "url": "https://web-filesystem.oss-cn-hangzhou.aliyuncs.com/afb25655-c9c5-43a2-a8de-49b3f85efd72.png",
                "uuid": "afb25655-c9c5-43a2-a8de-49b3f85efd72.png"
            },
            {
                "id": 3,
                "filename": "屏幕截图 2025-10-31 153553.png",
                "operatorName": "库里",
                "operatorId": 1,
                "uploadTime": "2025-10-31T20:28:45",
                "url": "https://web-filesystem.oss-cn-hangzhou.aliyuncs.com/8de06317-046d-4c37-8431-b8af2f73e1c1.png",
                "uuid": "8de06317-046d-4c37-8431-b8af2f73e1c1.png"
            }
        ]
    }
}
```







## 3. 数据统计

### 3.1 文件数据统计

#### 3.1.1 基本信息

> 请求路径：/admin/report/fileStatistics
>
> 请求方式：GET
>
> 接口描述：该接口用于统计系统中文件的数量



#### 3.1.2 请求参数

参数格式：Query

参数说明：

| 参数名称 | 是否必须 | 示例       | 备注     |
| -------- | -------- | ---------- | -------- |
| begin    | 是       | 2025-11-09 | 开始日期 |
| end      | 是       | 2025-11-10 | 结束日期 |







#### 3.1.3 响应数据

参数格式：application/json

参数说明：

| 名称              | 类型   | 是否必须 | 默认值 | 备注                       | 其他信息          |
| ----------------- | ------ | -------- | ------ | -------------------------- | ----------------- |
| code              | number | 必须     |        | 响应码, 1 成功 , 0 失败    |                   |
| msg               | string | 非必须   |        | 提示信息                   |                   |
| data              | object | 必须     |        | 返回的数据                 |                   |
| \|- dateList      | string | 必须     |        | 日期列表，以逗号分隔       |                   |
| \|- newFileList   | string | 必须     |        | 新增文件数列表，用逗号分隔 | item 类型: object |
| \|- totalFileList | string | 必须     |        | 总文件数列表，用逗号分隔   |                   |



### 3.2 用户数据统计

#### 3.2.1 基本信息

> 请求路径：/admin/report/userStatistics
>
> 请求方式：GET
>
> 接口描述：该接口用于统计系统中用户的数量



#### 3.2.2 请求参数

参数格式：Query

参数说明：

| 参数名称 | 是否必须 | 示例       | 备注     |
| -------- | -------- | ---------- | -------- |
| begin    | 是       | 2025-11-09 | 开始日期 |
| end      | 是       | 2025-11-10 | 结束日期 |







#### 3.2.3 响应数据

参数格式：application/json

参数说明：

| 名称              | 类型   | 是否必须 | 默认值 | 备注                       | 其他信息          |
| ----------------- | ------ | -------- | ------ | -------------------------- | ----------------- |
| code              | number | 必须     |        | 响应码, 1 成功 , 0 失败    |                   |
| msg               | string | 非必须   |        | 提示信息                   |                   |
| data              | object | 必须     |        | 返回的数据                 |                   |
| \|- dateList      | string | 必须     |        | 日期列表，以逗号分隔       |                   |
| \|- newUserList   | string | 必须     |        | 新增文件数列表，用逗号分隔 | item 类型: object |
| \|- totalUserList | string | 必须     |        | 总文件数列表，用逗号分隔   |                   |







## 4. 其他接口

### 4.1 登录

#### 4.1.1 基本信息

> 请求路径：/login
>
> 请求方式：POST
>
> 接口描述：该接口用于用户登录档案管理系统，登录完毕后，系统下发JWT令牌。 



#### 4.1.2 请求参数

参数格式：application/json

参数说明：

| 名称     | 类型   | 是否必须 | 备注   |
| -------- | ------ | -------- | ------ |
| username | string | 必须     | 用户名 |
| password | string | 必须     | 密码   |

请求数据样例：

```json
{
	"username": "curry",
    "password": "123456"
}
```



#### 4.1.3 响应数据

参数格式：application/json

参数说明：

| 名称 | 类型   | 是否必须 | 默认值 | 备注                     | 其他信息 |
| ---- | ------ | -------- | ------ | ------------------------ | -------- |
| code | number | 必须     |        | 响应码, 1 成功 ; 0  失败 |          |
| msg  | string | 非必须   |        | 提示信息                 |          |
| data | string | 必须     |        | 返回的数据 , jwt令牌     |          |



响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": "eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoi6YeR5bq4IiwiaWQiOjEsInVzZXJuYW1lIjoiamlueW9uZyIsImV4cCI6MTY2MjIwNzA0OH0.KkUc_CXJZJ8Dd063eImx4H9Ojfrr6XMJ-yVzaWCVZCo"
}
```





#### 4.1.4 备注说明

> 用户登录成功后，系统会自动下发JWT令牌，然后在后续的每次请求中，都需要在请求头header中携带到服务端，请求头的名称为 token ，值为 登录时下发的JWT令牌。
>
> 如果检测到用户未登录，则会返回如下固定错误信息：
>
> ```json
> {
> 	"code": 0,
> 	"msg": "NOT_LOGIN",
> 	"data": null
> }
> ```





### 4.2 个人信息查询

#### 4.2.1 基本信息

> 请求路径：/info/{id}
>
> 请求方式：GET
>
> 接口描述：该接口用于根据主键ID查询用户的信息



#### 4.2.2 请求参数

无



#### 4.2.3 响应数据

参数格式：application/json

参数说明：

| 名称           | 类型   | 是否必须 | 默认值 | 备注                                    | 其他信息 |
| -------------- | ------ | -------- | ------ | --------------------------------------- | -------- |
| code           | number | 必须     |        | 响应码, 1 成功 , 0 失败                 |          |
| msg            | string | 非必须   |        | 提示信息                                |          |
| data           | object | 必须     |        | 返回的数据                              |          |
| \|- id         | number | 非必须   |        | id                                      |          |
| \|- username   | string | 非必须   |        | 用户名                                  |          |
| \|- name       | string | 非必须   |        | 姓名                                    |          |
| \|- password   | string | 非必须   |        | 密码                                    |          |
| \|- role       | number | 非必须   |        | 角色, 说明: 1 浏览者,2 上传者, 3 管理员 |          |
| \|- gender     | number | 非必须   |        | 性别 , 1 男 ; 2 女                      |          |
| \|- createTime | string | 非必须   |        | 创建时间                                |          |
| \|- updateTime | string | 非必须   |        | 更新时间                                |          |

响应数据样例：

```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "id": 2,
    "username": "james",
    "password": "123456",
    "name": "詹姆斯",
    "gender": 1,
    "role": 2,
    "createTime": "2025-10-01T23:06:30",
    "updateTime": "2025-10-02T00:29:04"
  }
}
```





### 4.3 修改个人信息

#### 4.3.1 基本信息

> 请求路径：/info
>
> 请求方式：PUT
>
> 接口描述：该接口用于修改用户的数据信息



#### 4.3.2 请求参数

参数格式：application/json

参数说明：

| 名称     | 类型   | 是否必须 | 备注                                    |
| -------- | ------ | -------- | --------------------------------------- |
| id       | number | 必须     | id                                      |
| username | string | 必须     | 用户名                                  |
| name     | string | 必须     | 姓名                                    |
| gender   | number | 必须     | 性别, 说明: 1 男, 2 女                  |
| role     | number | 非必须   | 角色, 说明: 1 浏览者,2 上传者, 3 管理员 |

请求数据样例：

```json
{
  "id": 1,
  "username": "curry",
  "name": "库里",
  "gender": 1,
  "role": 1
}
```



#### 4.3.3 响应数据

参数格式：application/json

参数说明：

| 参数名 | 类型   | 是否必须 | 备注                           |
| ------ | ------ | -------- | ------------------------------ |
| code   | number | 必须     | 响应码，1 代表成功，0 代表失败 |
| msg    | string | 非必须   | 提示信息                       |
| data   | object | 非必须   | 返回的数据                     |

响应数据样例：

```json
{
    "code":1,
    "msg":"success",
    "data":null
}
```









